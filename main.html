<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Turtle</title>
</head>
  <script src="pixi.js"></script>
  
<body>
  <script type="text/javascript">
	//check if PIXI is loaded 
    var type = "WebGL"
    if(!PIXI.utils.isWebGLSupported())
	{
      type = "canvas"
    }
    PIXI.utils.sayHello(type);
	
	//turtle variable
	var t;
	
	//stage container
	var pixiStage = new PIXI.Container();
	
	//renderer
	var renderer = PIXI.autoDetectRenderer(512, 512);
	document.body.appendChild(renderer.view);
	renderer.backgroundColor = 0xd4cece;
	renderer.view.style.border = "1px solid black";
	
	//load texture
	PIXI.loader
	.add("arrow.png")
	//calls setup after resources are done loading
	.load(setup);
	
	class Turtle
	{	
		
		//constructor
		constructor(stage)
		{	
			//this tells JS to assume that member variable called .whatever exists within calling object, and to work with it
			this.stage = stage;
			this.sprite = new PIXI.Sprite(PIXI.loader.resources["arrow.png"].texture);
			this.sprite.scale.set(0.05, 0.05);
			this.sprite.x = 256;
			this.sprite.y = 256;
			this.sprite.rotation = 0;
			this.penIsDown = true;
			stage.addChild(this.sprite);
			
		}
		
		right(integer)
		{
			this.sprite.rotation = integer * (Math.PI/180);
			return;
		}
		
		left(integer)
		{
			this.sprite.rotation = -1 * (integer * (Math.PI/180));
			return;
		}
		
		forward(integer)
		{	
			this.sprite.x = this.sprite.x + integer * Math.cos(this.sprite.rotation);
			this.sprite.y = this.sprite.y + integer * Math.sin(this.sprite.rotation); 
			return;
		}	
		
		back(integer)
		{	
			this.sprite.x = this.sprite.x - integer * Math.cos(this.sprite.rotation);
			this.sprite.y = this.sprite.y - integer * Math.sin(this.sprite.rotation); 
			return;
		}	
		
		penup()
		{
			this.penIsDown = false;
			console.log(this.penIsDown);
			return;
		}
		
		pendown()
		{
			this.penIsDown = true;
			console.log(this.penIsDown);
			return;
		}
		
	}	

	function setup(t)
	{
		t = new Turtle(pixiStage);

		t.right(40);
		t.back(100);
		t.pendown();
		
		//renderer to stage
		renderer.render(pixiStage);
	}
	
	function gameLoop()
	{
		requestAnimationFrame(gameLoop);		
		renderer.render(pixiStage);
	}
	
  </script>
</body>

</html>